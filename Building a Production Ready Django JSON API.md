# Разработка Django JSON API для запуска на реальном рабочем сервере

## Об авторе

Позвольте мне представиться.

Меня зовут James Brewer. Последние несколько лет я работал инженером-программистом в Силиконовой долине, где создавал корпоративные веб-приложения с нуля, работал в команде, создавая и улучшая потребительские продукты, которые ежемесячно используют миллионов пользователей, а в настоящее время я организовываю собственную компанию по разработке программного обеспечения.

Кроме этого учебного пособия, я уже писал для сайта Thinkster материалы, которые пользовались успехом у пользователей. Я был первым автором на сайте, присоединившимся к основателям Thinkster, и написанные мной курсы помогли более 100 000 читателей улучшить свои навыки Django разработчиков.

Я работаю с Django так долго, что уже не могу сказать точную дату начала работы и работал над таким количеством проектов, что уже не смогу сосчитать. Я внес свой вклад в Django документацию и благодаря своей предыдущей работе с Thinkster ответил на гораздо больше вопросов о Django, чем мог бы подумать, будут заданы.

## Цель этого курса

Наша цель при написании этого учебного пособия - преодолеть разрыв между учебными проектами и реальными приложениями, готовыми к запуску на рабочем сервере. Для этого мы спроектировали API, которое будет служить основой для минимально жизнеспособного прототипа готового продукта. В этом курсе Вы пройдете через все стадии самостоятельного создания такого API.

Мы не ставили перед собой цель сделать это приложение масштабируемым. На данный момент эта цель не является важной и будет только замедлять разработку. Вместо этого мы сосредоточились на разработке того, что позволило бы осуществить нашу цель, следуя простому принципу: принимать правильные решения. Мы активно избегаем вещей, которые по нашему мнению являются плохими и часто совершаем компромиссы, балансируя между выполнением задачи и правильностью решений, принятых для её завершения. Лучше сделать что-то, чем продолжать доводить до совершенства.

> Замечание: Если Вы заинтересованы в более продвинутом курсе, охватывающем такие темы как масштабирование, развертывание и т. д., напишите нам об этом в Slack канале [Thinkster Pro](https://thinkster.io/tutorials/django-json-api#).

## Конечный результат

API, которое мы будем создавать вместе с Вами, будет уметь выполнять следующее:

## Аутентификация пользователей

Что хорошего в веб-приложении, в которое пользователь не может даже войти в систему? Мы рассмотрим регистрацию и вход в систему в этом разделе. Мы также заменим стандартную Django аутентификацию, основанную на сессиях, на аутентификацию с использованием [JSON Web токенов] (https://jwt.io/). Мы введём понятие авторизации (или прав доступа) и сделаем так, что только зарегистрированный пользователь сможет редактировать информацию в своём профиле.

Это будет самый длинный раздел, поскольку в нём вводится много понятий.

## Работа с профилем пользователя

После того как мы закроем вопрос, связанный с безопасностью, нам потребуется способ, позволяющий сохранять информацию о каждом пользователе, которая не связана с аутентификацией. Например, биография, аватар пользователя и т.д.

Для этого мы будем использовать профили пользователей и начнём экспериментировать со связями в Django, создав связь один-к-одному между классами пользователь и профиль. Это означает, что у каждого пользователя будет только один объект `Profile`, который будет создаваться автоматически при регистрации учетной записи.

## Создание статей

Наше новое веб-приложение не было бы таким замечательным, если бы в нём можно было только зарегистрироваться и войти в систему. Чтобы показать, что мы можем что-то ещё, введём понятие статьи. Статьи могут быть опубликованы любым пользователем для других пользователей, которые могут её прочитать, добавить в избранное и оставить комментарий к ней. Считайте это приложение блогом, где каждый может опубликовать новый материал.

## Комментарии к статьям

"Быть у всех на слуху" очень важно в наши дни. Чтобы сделать наш сайт таким, мы сделаем так, чтобы пользователи могли комментировать статьи, которые мы только что создали. Наше приложение будет таким же как Reddit!

## Подписки

Продолжая наше обсуждение, связанное с созданием связей между объектами, у пользователей должна быть возможность следовать друг за другом. Мы собираемся ввести понятие однонаправленных связей "много-ко-многим". Подумайте об этом отношении на примере сравнения Twitter и Facebook. На Facebook, если мы друзья, то это означает, что я твой друг, а ты мой. Сравните это отношение с тем, что существует в Twitter. Если Вы подписаны на меня, я могу быть подписан на Вас, но необязательно. Мы будем использовать подход из Twitter, поскольку он больше подходит для нашего приложения.

## Добавление в избранное

Возможность добавлять статью в избранное хороша по двум причинам. Во-первых, Вы льстите самолюбию автора. Во-вторых, такая возможность имитирует Вашу собственную систему закладок. Когда пользователь добавляет статью в избранное, мы создаём связь между ними. Затем, если пользователь ищет недавно прочитанную статью, которую ему понравилась, то он может легко найти её в своём списке избранных статей, а не прокручивать назад блок в её поисках.

## Добавление облака тегов

Один из наиболее сложных вопросов, на которые надо ответить, при создании платформы с контентом, подобной создаваемой нами, - "Как пользователи будут находить интересующий их контент?". На него тяжело ответить, потому что существует много вариантов. С одной стороны, Вы можете использовать машинное обучение, которое позволит выяснить что нравится каждому пользователю и рекомендовать контент пользователю, основываясь на этом знании. С другой стороны, Вы можете использовать простую систему тегов, которая переложит всю тяжелую работу по назначению тегов на плечи пользователя при публикации статей.

Поскольку мы просто хотим создать минимально жизнеспособный прототип, будем использовать последний подход. Мы не будем использовать машинное обучение, пока не подымем наш раунд финансирования серии C и не сможем потратить десятки миллионов долларов для решения проблемы!

## Пагинация

## Фильтрация

## Django и пособие для начинающих по Django REST фремворку

## Давайте начнем

Это все что Вам пока нужно знать. Теперь склонируйте репозиторий [conduit-django](https://github.com/brwr/conduit-django) и выполните указания, приведенные в файле `README.md`, чтобы установить всё необходимое для начала работы.
